{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios';\n/**\r\n * Declaración de Inicial State and Reducers (Redux Tooltik)\r\n */\n\nexport const itemSlice = createSlice({\n  name: 'items',\n  initialState: {\n    list: [],\n    categories: [],\n    detail: {},\n    loading: false\n  },\n  reducers: {\n    setItemsList: (state, action) => {\n      state.list = action.payload;\n      state.loading = false;\n    },\n    setDetailItem: (state, action) => {\n      state.detail = action.payload;\n      state.loading = false;\n    },\n    setCategories: (state, action) => {\n      state.categories = action.payload;\n    },\n    setLoading: (state, action) => {\n      state.loading = action.payload;\n    }\n  }\n});\nexport const {\n  setItemsList,\n  setDetailItem,\n  setCategories,\n  setLoading\n} = itemSlice.actions;\nexport default itemSlice.reducer;\n/**\r\n * Ation (getItems) para actualización del state\r\n * @param search criterio de búsqueda para lista de items\r\n * @param id criterio de búsqueda para el detalle de un item\r\n * @param dispatch función despachadora hacia el store\r\n */\n\nexport const getItems = search => dispatch => {\n  dispatch(setLoading(true));\n  axios.get(`http://localhost:4300/items?search=${search}`).then(response => {\n    const {\n      items,\n      categories\n    } = response.data;\n    dispatch(setItemsList(items));\n    dispatch(setCategories(categories));\n  }).catch(error => {\n    dispatch(setLoading(false));\n    console.log(error);\n  });\n};\nexport const getDetailItem = id => dispatch => {\n  dispatch(setLoading(true));\n  axios.get(`http://localhost:4300/items/${id}`).then(response => {\n    const {\n      item,\n      categories\n    } = response.data;\n    dispatch(setDetailItem(item));\n    dispatch(setCategories(categories));\n  }).catch(error => {\n    dispatch(setLoading(false));\n    console.log(error);\n  });\n};","map":{"version":3,"names":["createSlice","axios","itemSlice","name","initialState","list","categories","detail","loading","reducers","setItemsList","state","action","payload","setDetailItem","setCategories","setLoading","actions","reducer","getItems","search","dispatch","get","then","response","items","data","catch","error","console","log","getDetailItem","id","item"],"sources":["C:/Users/dsvil/Documents/Académico/ReactJS/meli-frontend-challenge/client/src/store/slices/items/index.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\n\r\n/**\r\n * Declaración de Inicial State and Reducers (Redux Tooltik)\r\n */\r\nexport const itemSlice = createSlice({\r\n    name: 'items',\r\n    initialState: {\r\n        list: [],\r\n        categories: [],\r\n        detail: {},\r\n        loading: false\r\n    },\r\n    reducers: {\r\n        setItemsList: (state, action) => {\r\n            state.list = action.payload;\r\n            state.loading = false;\r\n        },\r\n        setDetailItem: (state, action) => {\r\n            state.detail = action.payload;\r\n            state.loading = false;\r\n        },\r\n        setCategories: (state, action) => {\r\n            state.categories = action.payload;\r\n        },\r\n        setLoading: (state, action) => {\r\n            state.loading = action.payload;\r\n        }\r\n    }\r\n});\r\n\r\nexport const { setItemsList, setDetailItem, setCategories, setLoading } = itemSlice.actions;\r\nexport default itemSlice.reducer;\r\n\r\n/**\r\n * Ation (getItems) para actualización del state\r\n * @param search criterio de búsqueda para lista de items\r\n * @param id criterio de búsqueda para el detalle de un item\r\n * @param dispatch función despachadora hacia el store\r\n */\r\nexport const getItems = search => (dispatch) => {\r\n    dispatch(setLoading(true));\r\n    axios.get(`http://localhost:4300/items?search=${search}`)\r\n    .then((response) => {\r\n        const { items, categories } = response.data;\r\n        dispatch(setItemsList(items));\r\n        dispatch(setCategories(categories));\r\n    }).catch((error) => {\r\n        dispatch(setLoading(false));\r\n        console.log(error);\r\n    });\r\n};\r\n\r\nexport const getDetailItem = id => (dispatch) => {\r\n    dispatch(setLoading(true));\r\n    axios.get(`http://localhost:4300/items/${id}`)\r\n    .then((response) => {\r\n        const { item, categories } = response.data;\r\n        dispatch(setDetailItem(item));\r\n        dispatch(setCategories(categories));\r\n    }).catch((error) => {\r\n        dispatch(setLoading(false));\r\n        console.log(error);\r\n    });\r\n}"],"mappings":"AAAA,SAASA,WAAT,QAA4B,kBAA5B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA;AACA;AACA;;AACA,OAAO,MAAMC,SAAS,GAAGF,WAAW,CAAC;EACjCG,IAAI,EAAE,OAD2B;EAEjCC,YAAY,EAAE;IACVC,IAAI,EAAE,EADI;IAEVC,UAAU,EAAE,EAFF;IAGVC,MAAM,EAAE,EAHE;IAIVC,OAAO,EAAE;EAJC,CAFmB;EAQjCC,QAAQ,EAAE;IACNC,YAAY,EAAE,CAACC,KAAD,EAAQC,MAAR,KAAmB;MAC7BD,KAAK,CAACN,IAAN,GAAaO,MAAM,CAACC,OAApB;MACAF,KAAK,CAACH,OAAN,GAAgB,KAAhB;IACH,CAJK;IAKNM,aAAa,EAAE,CAACH,KAAD,EAAQC,MAAR,KAAmB;MAC9BD,KAAK,CAACJ,MAAN,GAAeK,MAAM,CAACC,OAAtB;MACAF,KAAK,CAACH,OAAN,GAAgB,KAAhB;IACH,CARK;IASNO,aAAa,EAAE,CAACJ,KAAD,EAAQC,MAAR,KAAmB;MAC9BD,KAAK,CAACL,UAAN,GAAmBM,MAAM,CAACC,OAA1B;IACH,CAXK;IAYNG,UAAU,EAAE,CAACL,KAAD,EAAQC,MAAR,KAAmB;MAC3BD,KAAK,CAACH,OAAN,GAAgBI,MAAM,CAACC,OAAvB;IACH;EAdK;AARuB,CAAD,CAA7B;AA0BP,OAAO,MAAM;EAAEH,YAAF;EAAgBI,aAAhB;EAA+BC,aAA/B;EAA8CC;AAA9C,IAA6Dd,SAAS,CAACe,OAA7E;AACP,eAAef,SAAS,CAACgB,OAAzB;AAEA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,MAAMC,QAAQ,GAAGC,MAAM,IAAKC,QAAD,IAAc;EAC5CA,QAAQ,CAACL,UAAU,CAAC,IAAD,CAAX,CAAR;EACAf,KAAK,CAACqB,GAAN,CAAW,sCAAqCF,MAAO,EAAvD,EACCG,IADD,CACOC,QAAD,IAAc;IAChB,MAAM;MAAEC,KAAF;MAASnB;IAAT,IAAwBkB,QAAQ,CAACE,IAAvC;IACAL,QAAQ,CAACX,YAAY,CAACe,KAAD,CAAb,CAAR;IACAJ,QAAQ,CAACN,aAAa,CAACT,UAAD,CAAd,CAAR;EACH,CALD,EAKGqB,KALH,CAKUC,KAAD,IAAW;IAChBP,QAAQ,CAACL,UAAU,CAAC,KAAD,CAAX,CAAR;IACAa,OAAO,CAACC,GAAR,CAAYF,KAAZ;EACH,CARD;AASH,CAXM;AAaP,OAAO,MAAMG,aAAa,GAAGC,EAAE,IAAKX,QAAD,IAAc;EAC7CA,QAAQ,CAACL,UAAU,CAAC,IAAD,CAAX,CAAR;EACAf,KAAK,CAACqB,GAAN,CAAW,+BAA8BU,EAAG,EAA5C,EACCT,IADD,CACOC,QAAD,IAAc;IAChB,MAAM;MAAES,IAAF;MAAQ3B;IAAR,IAAuBkB,QAAQ,CAACE,IAAtC;IACAL,QAAQ,CAACP,aAAa,CAACmB,IAAD,CAAd,CAAR;IACAZ,QAAQ,CAACN,aAAa,CAACT,UAAD,CAAd,CAAR;EACH,CALD,EAKGqB,KALH,CAKUC,KAAD,IAAW;IAChBP,QAAQ,CAACL,UAAU,CAAC,KAAD,CAAX,CAAR;IACAa,OAAO,CAACC,GAAR,CAAYF,KAAZ;EACH,CARD;AASH,CAXM"},"metadata":{},"sourceType":"module"}